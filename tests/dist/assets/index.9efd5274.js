var T=Object.defineProperty;var p=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var h=(o,e,t)=>e in o?T(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,u=(o,e)=>{for(var t in e||(e={}))D.call(e,t)&&h(o,t,e[t]);if(p)for(var t of p(e))x.call(e,t)&&h(o,t,e[t]);return o};import{d as A,a as E,r as v,c as m,b as l,w as y,v as O,e as P,u as d,f as F,g as S,t as b,F as w,h as B,o as f,i as V,j as J}from"./vendor.342f52ea.js";const U=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}};U();const j=A("main",{state:()=>({messages:[],count:0}),actions:{addMessage(o){this.messages=[o,...this.messages]},addAsyncMessage(o){return new Promise(e=>{setTimeout(()=>{this.messages=[o,...this.messages],e(!0)},100)})},mockError(){return new Promise((o,e)=>{setTimeout(()=>{e(!1)},100)})},incrementCounter(){this.count++}}});const q=l("h1",null,"Pinia Logger Test",-1),H=["onSubmit"],I=S("async "),K=l("button",{type:"submit"},"Add Message",-1),z={class:"counter"},G=E({setup(o){const e=j(),t=v("Test message"),n=v(!1),s=()=>{!t.value||(n.value?e.addAsyncMessage(t.value):e.addMessage(t.value))};return(a,r)=>(f(),m(w,null,[q,l("form",{onSubmit:F(s,["prevent"])},[y(l("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i),placeholder:"Set message"},null,512),[[O,t.value]]),l("label",null,[y(l("input",{type:"checkbox","onUpdate:modelValue":r[1]||(r[1]=i=>n.value=i)},null,512),[[P,n.value]]),I]),K,l("button",{type:"button",onClick:r[2]||(r[2]=i=>d(e).mockError())},"Mock Error")],40,H),l("div",z,[S("Count: "+b(d(e).count)+" ",1),l("button",{onClick:r[3]||(r[3]=(...i)=>d(e).incrementCounter&&d(e).incrementCounter(...i))},"increment")]),(f(!0),m(w,null,B(d(e).messages,(i,c)=>(f(),m("div",{key:c,class:"msg"},b(i),1))),128))],64))}}),$=o=>{try{return JSON.parse(JSON.stringify(o))}catch{return u({},o)}},Q=(o=new Date)=>{const e=o.getHours().toString().padStart(2,"0"),t=o.getMinutes().toString().padStart(2,"0"),n=o.getSeconds().toString().padStart(2,"0"),s=o.getMilliseconds().toString();return`${e}:${t}:${n}:${s}`},_={logErrors:!0,disabled:!1,expanded:!0,showStoreName:!0,showDuration:!1,filter:()=>!0},R=(o=_)=>e=>{const t=u(u({},_),o);t.disabled||e.store.$onAction(n=>{const s=Date.now(),a=$(e.store.$state),r=(i,c)=>{const g=Date.now()-s+"ms",k=$(e.store.$state),C=n.store.$id,L=`action \u{1F34D} ${t.showStoreName?`[${C}] `:""}${n.name} ${i?`failed after ${g} `:""}@ ${Q()}`;console[t.expanded?"group":"groupCollapsed"](`%c${L}`,`font-weight: bold; ${i?"color: #ed4981;":""}`),console.log("%cprev state","font-weight: bold; color: grey;",a),console.log("%caction","font-weight: bold; color: #69B7FF;",u(u(u({type:n.name,args:n.args.length>0?u({},n.args):void 0},t.showStoreName&&{store:n.store.$id}),t.showDuration&&{duration:g}),i&&{error:c})),console.log("%cnext state","font-weight: bold; color: #4caf50;",k),console.groupEnd()};n.after(()=>{var c;((c=t.filter&&t.filter(n))!=null?c:!1)&&r()}),t.logErrors&&n.onError(i=>{r(!0,i)})})},M=V(G),N=J();N.use(R({filter:o=>o.name!=="incrementCounter"}));M.use(N);M.mount("#app");
